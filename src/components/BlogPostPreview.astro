---
interface Props {
	title: string;
	excerpt?: string;
	date?: Date | string;
	href: string;
	locale?: string;
}

const { title, excerpt, date, href, locale = 'en' } = Astro.props;

const formatDate = (value: Date | string | undefined) => {
	if (!value) return '';
	const parsed = typeof value === 'string' ? new Date(value) : value;
	return new Intl.DateTimeFormat(locale === 'es' ? 'es-ES' : 'en-US', {
		year: 'numeric',
		month: 'long',
		day: 'numeric',
	}).format(parsed);
};
---

<article class="card card-border">
	<div class="card-body">
		<h2 class="card-title">
			<a href={href} class="link link-hover">
				{title}
			</a>
		</h2>
		{excerpt && <p>{excerpt}</p>}
		{date && (
			<div class="card-actions">
				<span class="text-sm text-base-content/60">{formatDate(date)}</span>
			</div>
		)}
	</div>
</article>


